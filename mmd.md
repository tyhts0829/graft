あなたはシニアソフトウェアアーキテクト兼テックライターです。対象リポジトリの Python コード（src 配下）を読み、保守性を高めるための「アーキテクチャ可視化（図）」を作ってください。

【目的】
Grafix の全体アーキテクチャを、責務の分離・ディレクトリ構成・依存方向・実行時データフローの観点で、読みやすい図として可視化する。図は「理解の入口」と「設計規約の監視」に使える品質にする。

【スコープ】

- 対象: src/ 配下の Python コード
- 除外: primitive と effect の“実装詳細”は不要
  - 具体例: src/grafix/core/primitives/** と src/grafix/core/effects/** の中身の実装は読まなくてよい
  - ただし、レジストリ登録や API ファサードとしての存在（概念）を図に載せるのは可
- 重点: アーキテクチャ層（api/core/interactive/export 等）の責務境界と依存方向、フレーム処理の流れ、パラメータ（ParamStore 等）の流れ

【作業手順（必須）】

1. リポジトリを走査し、パッケージ境界（例: grafix.api / grafix.core / grafix.interactive / grafix.export）と主要コンポーネントを抽出する。
   - 各コンポーネントについて「責務（1 ～ 2 文）」と「主要な入出力（何を受け取り何を返すか）」をメモする。
2. import 依存と実行時依存（呼び出し・データの受け渡し）を区別する。
   - 図の矢印は原則 “実行時依存（呼び出し・データフロー）” を優先する。
   - import 副作用（レジストリ登録等）のような例外依存は破線で表現し、注釈を付ける。
3. 図は「読めること」を最優先し、ノード数を制限する。
   - Container 図: 12 ノード以下
   - Component 図: 各図 20 ノード以下
   - それ以上になる場合は、サブ図に分割する（1 枚に詰め込まない）。
4. 不確かな点は断定しない。根拠となるファイルパスとシンボル名（関数/クラス）を併記して裏取りする。

【成果物（必須）】
A) Mermaid 図（GitHub でレンダリング可能な記法）を最低 4 つ出力する。すべて ```mermaid コードブロックで提示する。

1.  C4 風 Container 図（大枠の層と依存方向）
2.  Component 図：core 内部（Geometry/DAG、Layer/Style、pipeline、parameters 等の主要部品）
3.  Component 図：interactive 内部（runtime、gl renderer、parameter_gui、midi/cc 等の主要部品）
4.  Sequence 図：1 フレームの実行フロー（run→draw(t)→scene realize→render→param merge など）
    B) 各図の直後に、図の意図と読み方を短く説明する（2 ～ 5 段落）。箇条書き乱用は避け、文章で。
    C) 「アーキテクチャ規約（依存ルール）」をテキストで提案する。

- 例: interactive → core は OK、core → interactive は禁止、api はファサード、など
- 例外（import 副作用など）も明示する。
  D) 図の根拠（最低限）として、主要矢印ごとに “参照したファイルパス:行付近” または “クラス/関数名” を 1 つ以上挙げる。
- 行番号が取れない場合は、ファイルパス + シンボル名でよい。

【表現ルール】

- 図中のノード名は「パッケージ名」＋「役割」で統一（例: grafix.core.pipeline / realize_scene）。
- 依存の種類を統一する:
  - 実行時依存（呼び出し/データ）: 実線矢印 -->
  - import 副作用/登録: 破線 -.-> と注釈
- 図に載せないもの:
  - primitive/effect の個別実装名（例: circle, noise, offset 等の細部）
  - GUI の細かなウィジェットレイアウト

【品質チェック（必須）】

- Mermaid 構文エラーがないこと（自己点検してから出力）
- 図の矢印は「依存の向き」を矛盾なく表現していること
- 図と説明が対応していること（説明が抽象論だけにならないこと）

では開始してください。最初に “抽出した主要コンポーネント一覧（責務つき）” を短くまとめ、その後に Mermaid 図を順に提示してください。
